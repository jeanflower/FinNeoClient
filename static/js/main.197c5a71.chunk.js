(this.webpackJsonpfinneo=this.webpackJsonpfinneo||[]).push([[0],{46:function(e,t,a){e.exports=a.p+"static/media/cat.50c12de4.png"},58:function(e,t,a){e.exports=a(77)},63:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),i=a.n(o),s=(a(63),a(9)),c=a(10),u=a(11),l=a(8),d=a(14),p=a(13),h=a(2),f=a.n(h),m=a(6),v=a(54),b=!0;function g(e){b&&console.log(e)}var y=function(e){var t="",a=" mr-1 mb-1";return t="primary"===e.type?"btn btn-primary".concat(a):"primary-off"===e.type?"btn btn-outline-primary".concat(a):"secondary-on"===e.type?"btn btn-secondary".concat(a):"secondary"===e.type?"btn btn-outline-secondary".concat(a):"btn btn-error".concat(a),r.a.createElement("button",{onClick:e.action,id:e.id,type:"primary"===e.type?"submit":"button",className:t},e.title)},w=a(46),k=a.n(w),N=a(86),F={lc:"Home"};function E(e){return r.a.createElement(N.a,{expand:"lg",bg:"light",sticky:"top"},r.a.createElement(N.a.Brand,{href:"#home",id:"finneo-brand"},r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement("h3",null,"FinNeo")),r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:k.a,alt:"FinNeo cat",width:70,height:"auto",onClick:function(){ve(F)},id:"btn-Home"}))))),e())}var x="https://desolate-refuge-81883.herokuapp.com/finneo/";function O(e){return{foodName:e,amount:{unit:{name:"no unit"},quantity:NaN},details:{calories:NaN,proteinWeight:NaN,vegWeight:NaN,carbsWeight:NaN,fatsWeight:NaN},parts:[]}}var W=new(function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"getFoods",value:function(e){var t=new Headers;return t.append("Content-Type","application/x-www-form-urlencoded"),new Promise((function(a,n){var r={method:"GET",headers:t,redirect:"follow"},o="".concat(x,"foods?userID=").concat(e);return fetch(o,r).then((function(e){return e.text()})).then((function(e){try{var t=JSON.parse(e);a(t.map((function(e){return function(e,t){try{var a=JSON.parse(t);return 1===a.version?{foodName:e,amount:a.amount,details:a.details,parts:a.parts}:(console.log("don't understand version"),O(e))}catch(n){return console.log("recovering from err ".concat(n)),O(e)}}(e.foodName,e.food)})))}catch(r){n("Query failed")}})).catch((function(e){console.log("error",e),n(e)}))}))}},{key:"addFood",value:function(e,t,a,n){var r=new Headers;r.append("Content-Type","application/x-www-form-urlencoded");var o=new URLSearchParams;o.append("userID",e),o.append("foodName",t),o.append("food",a);var i={method:"POST",headers:r,body:o,redirect:"follow"};fetch("".concat(x,"food_create"),i).then((function(e){return e.text()})).then((function(e){return console.log(e)})).then(n).catch((function(e){return console.log("error",e)}))}},{key:"deleteFood",value:function(e,t,a){var n=new Headers;n.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("userID",e),r.append("foodName",t);var o={method:"DELETE",headers:n,body:r,redirect:"follow"};fetch("".concat(x,"food_delete"),o).then((function(e){return e.text()})).then((function(e){return console.log(e)})).then(a).catch((function(e){return console.log("error",e)}))}},{key:"updateFood",value:function(e,t,a,n){var r=new Headers;r.append("Content-Type","application/x-www-form-urlencoded");var o=new URLSearchParams;o.append("userID",e),o.append("foodName",t),o.append("food",a),fetch("http://localhost:3001/finneo/food_update",{method:"PUT",headers:r,body:o,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).then(n).catch((function(e){return console.log("error",e)}))}}]),e}());function j(){return W}function C(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=2,e.next=5,j().getFoods(t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("error contacting database ".concat(e.t0));case 11:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,a){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,j().addFood(t,a.foodName,JSON.stringify({amount:a.amount,details:a.details,parts:a.parts,version:1}),n);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),alert("error contacting database ".concat(e.t0)),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function I(e,t,a,n){return U.apply(this,arguments)}function U(){return(U=Object(m.a)(f.a.mark((function e(t,a,n,r){var o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.find((function(e){return e.foodName===a.foodName}))){e.next=3;break}return alert("food with name ".concat(a.foodName," already exists")),e.abrupt("return",!1);case 3:return e.next=5,D(t,a,r);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,a){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,j().deleteFood(t,a,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("error contacting database ".concat(e.t0));case 9:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function Q(e,t,a){return H.apply(this,arguments)}function H(){return(H=Object(m.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,a,n);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,a){return R.apply(this,arguments)}function R(){return(R=Object(m.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,j().updateFood(t,a.foodName,JSON.stringify({amount:a.amount,details:a.details,parts:a.parts,version:1}),n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("error contacting database ".concat(e.t0));case 9:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function K(e,t,a){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,a,n);case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=a(85),_=a(84),J=a(87),z=a(88),M=a(83),Y=a(82),X=a(47),$=Object(n.createContext)(),Z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={auth0Client:null,isLoading:!0,isAuthenticated:!1,user:null},e.config={domain:"dev-49nrx3uc.eu.auth0.com",client_id:"tY4zF9iFvwTXUnM6L2IQzOXaydqODU5a",redirect_uri:window.location.origin+"/FinNeoClient/FinNeoClient"},e.initializeAuth0=Object(m.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(X.a)(e.config);case 3:if(a=t.sent,e.setState({auth0Client:a}),!window.location.search.includes("code=")){t.next=7;break}return t.abrupt("return",e.handleRedirectCallback());case 7:return t.next=9,a.isAuthenticated();case 9:if(!(n=t.sent)){t.next=16;break}return t.next=13,a.getUser();case 13:t.t0=t.sent,t.next=17;break;case 16:t.t0=null;case 17:r=t.t0,e.setState({isLoading:!1,isAuthenticated:n,user:r});case 19:case"end":return t.stop()}}),t)}))),e.handleRedirectCallback=Object(m.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,e.state.auth0Client.handleRedirectCallback();case 3:return t.next=5,e.state.auth0Client.getUser();case 5:a=t.sent,e.setState({user:a,isAuthenticated:!0,isLoading:!1}),window.history.replaceState({},document.title,window.location.pathname);case 8:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.initializeAuth0()}},{key:"render",value:function(){var e=this,t=this.state,a=t.auth0Client,n=t.isLoading,o=t.isAuthenticated,i=t.user,s=this.props.children,c={isLoading:n,isAuthenticated:o,user:i,loginWithRedirect:function(){return a.loginWithRedirect.apply(a,arguments)},loginForTesting:function(){e.setState({user:{sub:"TestUserID"},isAuthenticated:!0,isLoading:!1})},getTokenSilently:function(){return a.getTokenSilently.apply(a,arguments)},getIdTokenClaims:function(){return a.getIdTokenClaims.apply(a,arguments)},logout:function(){return a.logout.apply(a,arguments)}};return r.a.createElement($.Provider,{value:c},s)}}]),a}(n.Component),ee=function(e){return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:e.name,className:"col-sm col-form-label"},e.title),r.a.createElement("div",{className:"col-sm"},r.a.createElement("input",{className:"form-control",id:e.name,name:e.name,type:e.type,value:e.value,onChange:e.onChange,onSubmit:e.onSubmit,onBlur:e.onBlur,placeholder:e.placeholder})))};var te,ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={units:"",name:"",quantity:"",calories:"",proteinWeight:"",vegWeight:"",carbsWeight:"",fatsWeight:"",partNameWIP:"",partUnitWIP:"",partQuantityWIP:"",parts:[]},n.handleName=n.handleName.bind(Object(l.a)(n)),n.handleUnits=n.handleUnits.bind(Object(l.a)(n)),n.handleQuantity=n.handleQuantity.bind(Object(l.a)(n)),n.handleCalories=n.handleCalories.bind(Object(l.a)(n)),n.handleProteinWeight=n.handleProteinWeight.bind(Object(l.a)(n)),n.handleVegWeight=n.handleVegWeight.bind(Object(l.a)(n)),n.handleCarbsWeight=n.handleCarbsWeight.bind(Object(l.a)(n)),n.handleFatsWeight=n.handleFatsWeight.bind(Object(l.a)(n)),n.handlePartNameWIP=n.handlePartNameWIP.bind(Object(l.a)(n)),n.handlePartUnitWIP=n.handlePartUnitWIP.bind(Object(l.a)(n)),n.handlePartQuantityWIP=n.handlePartQuantityWIP.bind(Object(l.a)(n)),n.add=n.add.bind(Object(l.a)(n)),n.addPart=n.addPart.bind(Object(l.a)(n)),n.delParts=n.delParts.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add new food"),r.a.createElement("form",{className:"container-fluid",onSubmit:this.add},r.a.createElement(ee,{title:"Name",type:"text",name:"AddFoodName",value:this.state.name,placeholder:"name",onChange:this.handleName}),r.a.createElement(ee,{title:"Quantity",type:"text",name:"AddFoodQuantity",value:this.state.quantity,placeholder:"quantity",onChange:this.handleQuantity}),r.a.createElement(ee,{title:"Units",type:"text",name:"AddFoodUnits",value:this.state.units,placeholder:"units",onChange:this.handleUnits}),r.a.createElement(ee,{title:"Calories",type:"text",name:"AddFoodCalories",value:this.state.calories,placeholder:"calories",onChange:this.handleCalories}),r.a.createElement(ee,{title:"Protein",type:"text",name:"AddFoodProtein",value:this.state.proteinWeight,placeholder:"protein",onChange:this.handleProteinWeight}),r.a.createElement(ee,{title:"Veg",type:"text",name:"AddFoodVeg",value:this.state.vegWeight,placeholder:"veg",onChange:this.handleVegWeight}),r.a.createElement(ee,{title:"Carbs",type:"text",name:"AddFoodCarbs",value:this.state.carbsWeight,placeholder:"carbs",onChange:this.handleCarbsWeight}),r.a.createElement(ee,{title:"Fats",type:"text",name:"AddFoodFats",value:this.state.fatsWeight,placeholder:"fats",onChange:this.handleFatsWeight}),JSON.stringify(this.state.parts),r.a.createElement(ee,{title:"Part name",type:"text",name:"AddPartNameWIP",value:this.state.partNameWIP,placeholder:"part name",onChange:this.handlePartNameWIP}),r.a.createElement(ee,{title:"Part quantity",type:"text",name:"AddFoodQtyWIP",value:this.state.partQuantityWIP,placeholder:"part quantity",onChange:this.handlePartQuantityWIP}),r.a.createElement(ee,{title:"Part unit",type:"text",name:"AddPartUnitWIP",value:this.state.partUnitWIP,placeholder:"part units",onChange:this.handlePartUnitWIP}),r.a.createElement(Y.a,{onClick:this.addPart,type:"primary",id:"addFoodPart"},"Add a food part"),r.a.createElement(Y.a,{onClick:this.delParts,type:"primary",id:"delFoodPart"},"Delete a food part"),r.a.createElement("p",null),r.a.createElement(Y.a,{onClick:this.add,type:"primary",id:"addFood"},"Create new food (over-writes any existing with the same name)")))}},{key:"handleName",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"handleUnits",value:function(e){var t=e.target.value;this.setState({units:t})}},{key:"handleQuantity",value:function(e){var t=e.target.value;this.setState({quantity:t})}},{key:"handleCalories",value:function(e){var t=e.target.value;this.setState({calories:t})}},{key:"handleProteinWeight",value:function(e){var t=e.target.value;this.setState({proteinWeight:t})}},{key:"handleVegWeight",value:function(e){var t=e.target.value;this.setState({vegWeight:t})}},{key:"handleCarbsWeight",value:function(e){var t=e.target.value;this.setState({carbsWeight:t})}},{key:"handleFatsWeight",value:function(e){var t=e.target.value;this.setState({fatsWeight:t})}},{key:"handlePartNameWIP",value:function(e){var t=e.target.value;this.setState({partNameWIP:t})}},{key:"handlePartUnitWIP",value:function(e){var t=e.target.value;this.setState({partUnitWIP:t})}},{key:"handlePartQuantityWIP",value:function(e){var t=e.target.value;this.setState({partQuantityWIP:t})}},{key:"addPart",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(a=this.state.parts).push({name:this.state.partNameWIP,units:this.state.partUnitWIP,quantity:this.state.partQuantityWIP}),this.setState({parts:a,partNameWIP:"",partUnitWIP:"",partQuantityWIP:""});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delParts",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.setState({parts:[]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUnits",value:function(e,t,a){var n=e;if(console.log("given units for ".concat(t,", are units ").concat(n)),""===e){n="defaultUnit";var r=a.filter((function(e){return e.foodName===t}));if(1===r.length)n=r[0].amount.unit.name}return n}},{key:"getQuantity",value:function(e,t,a){var n=e;if(console.log("given qty for ".concat(t,", is ").concat(e)),""===e){n="1";var r=a.filter((function(e){return e.foodName===t}));if(1===r.length){var o=r[0].amount.quantity;n="".concat(o)}}return n}},{key:"add",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.name){e.next=4;break}return alert("a food needs a name"),e.abrupt("return");case 4:return e.next=6,this.props.submitFunction({foodName:this.state.name,amount:{unit:{name:this.getUnits(this.state.units,this.state.name,this.props.allFoods)},quantity:parseFloat(this.getQuantity(this.state.quantity,this.state.name,this.props.allFoods))},details:{calories:parseFloat(this.state.calories),proteinWeight:parseFloat(this.state.proteinWeight),vegWeight:parseFloat(this.state.vegWeight),carbsWeight:parseFloat(this.state.carbsWeight),fatsWeight:parseFloat(this.state.fatsWeight)},parts:this.state.parts.map((function(e){return{foodName:e.name,amount:{unit:{name:a.getUnits(e.units,e.name,a.props.allFoods)},quantity:parseFloat(a.getQuantity(e.quantity,e.name,a.props.allFoods))},details:{calories:NaN,proteinWeight:NaN,vegWeight:NaN,carbsWeight:NaN,fatsWeight:NaN},parts:[]}}))});case 6:this.delParts(t),this.setState({units:"",name:"",quantity:"",calories:"",proteinWeight:"",vegWeight:"",carbsWeight:"",fatsWeight:"",partNameWIP:"",partUnitWIP:"",partQuantityWIP:"",parts:[]}),this.props.showAlert("updating");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),ne=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={units:"",name:"",quantity:"",calories:"",proteinWeight:"",vegWeight:"",carbsWeight:"",fatsWeight:"",partNameWIP:"",partUnitWIP:"",partQuantityWIP:"",parts:[]},n.handleName=n.handleName.bind(Object(l.a)(n)),n.add=n.add.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"makeButton",value:function(e,t,a){return r.a.createElement(Y.a,{key:e,onClick:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),a();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:t?"btn btn-secondary mr-1 mb-1":"btn btn-outline-secondary mr-1 mb-1",id:"toggle".concat(e)},e)}},{key:"makeButtons",value:function(){var e=this;return this.props.allFoods.sort((function(e,t){var a=e.parts.length>0,n=t.parts.length>0;return a&&!n?1:!a&&n||e.foodName.toLowerCase()<t.foodName.toLowerCase()?-1:1})).map((function(t){var a=void 0!==e.state.parts.find((function(e){return e.name===t.foodName}));return e.makeButton(t.foodName,a,(function(){var a=e.state.parts;a.push({name:t.foodName,units:"",quantity:""}),e.setState({parts:a})}))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add new food"),r.a.createElement("form",{className:"container-fluid",onSubmit:this.add},r.a.createElement(ee,{title:"Name",type:"text",name:"AddFoodName",value:this.state.name,placeholder:"name",onChange:this.handleName}),this.makeButtons(),r.a.createElement("p",null),r.a.createElement(Y.a,{onClick:this.add,type:"primary",id:"addFood"},"Create new food (over-writes any existing with the same name)")))}},{key:"handleName",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"getUnits",value:function(e,t,a){var n=e;if(""===e){n="defaultUnit";var r=a.filter((function(e){return e.foodName===t}));if(1===r.length)n=r[0].amount.unit.name}return n}},{key:"getQuantity",value:function(e,t,a){var n=e;if(""===e){n="1";var r=a.filter((function(e){return e.foodName===t}));if(1===r.length){var o=r[0].amount.quantity;n="".concat(o)}}return n}},{key:"add",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.name){e.next=4;break}return alert("a food needs a name"),e.abrupt("return");case 4:return e.next=6,this.props.submitFunction({foodName:this.state.name,amount:{unit:{name:this.getUnits(this.state.units,this.state.name,this.props.allFoods)},quantity:parseFloat(this.getQuantity(this.state.quantity,this.state.name,this.props.allFoods))},details:{calories:parseFloat(this.state.calories),proteinWeight:parseFloat(this.state.proteinWeight),vegWeight:parseFloat(this.state.vegWeight),carbsWeight:parseFloat(this.state.carbsWeight),fatsWeight:parseFloat(this.state.fatsWeight)},parts:this.state.parts.map((function(e){return{foodName:e.name,amount:{unit:{name:a.getUnits(e.units,e.name,a.props.allFoods)},quantity:parseFloat(a.getQuantity(e.quantity,e.name,a.props.allFoods))},details:{calories:NaN,proteinWeight:NaN,vegWeight:NaN,carbsWeight:NaN,fatsWeight:NaN},parts:[]}}))});case 6:this.setState({units:"",name:"",quantity:"",calories:"",proteinWeight:"",vegWeight:"",carbsWeight:"",fatsWeight:"",partNameWIP:"",partUnitWIP:"",partQuantityWIP:"",parts:[]}),this.props.showAlert("updating");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),re=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:""},n.handleName=n.handleName.bind(Object(l.a)(n)),n.del=n.del.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Delete food"),r.a.createElement("form",{className:"container-fluid",onSubmit:this.del},r.a.createElement(ee,{title:"Name",type:"text",name:"DelFoodName",value:this.state.name,placeholder:"name",onChange:this.handleName})))}},{key:"handleName",value:function(e){var t=e.target.value;this.setState({name:t})}},{key:"del",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.submitFunction(this.state.name);case 3:this.props.showAlert("deleting"),this.setState({name:""});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),oe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).del=n.del.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"makeButton",value:function(e,t){return r.a.createElement(Y.a,{key:e,onClick:function(){var e=Object(m.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.persist(),t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"btn btn-secondary mr-1 mb-1",id:"del".concat(e)},e)}},{key:"makeButtons",value:function(){var e=this;return this.props.allFoods.sort((function(e,t){var a=e.parts.length>0,n=t.parts.length>0;return a&&!n?1:!a&&n||e.foodName.toLowerCase()<t.foodName.toLowerCase()?-1:1})).map((function(t){return e.makeButton(t.foodName,(function(){e.del(t.foodName)}))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Delete food"),this.makeButtons())}},{key:"del",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.submitFunction(t);case 2:this.props.showAlert("deleting"),this.setState({name:""});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),ie=a(48),se=a.n(ie),ce=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={rows:e.rows,colSortIndex:"",sortDirection:"NONE"},n}return Object(u.a)(a,[{key:"rowGetter",value:function(e){var t=this;var a=this.state.colSortIndex;if("NONE"===this.state.sortDirection){if(0===this.props.rows.length||void 0===this.props.rows[0].index)return this.props.rows[e];a="index"}return this.props.rows.sort((function(e,n){var r=e[a],o=n[a];if(void 0!==r&&void 0!==o||(r=e[t.props.columns[0]],o=n[t.props.columns[0]]),"DATE"===a||"START"===a||"END"===a){var i=new Date(r).getTime(),s=new Date(o).getTime(),c=!Number.isNaN(i),u=!Number.isNaN(s);if(c&&!u)return 1;if(!c&&u)return-1;c&&u&&(r=i,o=s)}else"index"===a||void 0!==r&&void 0!==o&&(r=r.toUpperCase(),o=o.toUpperCase());return r<o?"ASC"===t.state.sortDirection?-1:1:r>o?"ASC"===t.state.sortDirection?1:-1:0}))[e]}},{key:"getSize",value:function(){return this.props.rows.length}},{key:"sortHandler",value:function(e,t){this.setState({colSortIndex:e,sortDirection:t})}},{key:"getCellActions",value:function(e,t){var a=this;return"DEL"===e.key&&this.props.showDel?[{icon:"fa fa-trash",callback:function(){window.confirm("delete data for ".concat(t.name," - you sure?"))&&a.props.deleteFunction(t.name)}}]:"VIEW"===e.key&&t.HAS_PARTS>0?[{icon:"fa fa-eye",callback:function(){a.props.viewFunction(t.name)}}]:"COPY"===e.key&&this.props.showCopy?[{icon:"fa fa-copy",callback:function(){a.props.copyFunction(t.name)}}]:[]}},{key:"render",value:function(){return r.a.createElement(se.a,{columns:this.props.columns,rowGetter:this.rowGetter.bind(this),rowsCount:this.props.rows.length,onGridRowsUpdated:this.props.handleGridRowsUpdated,minHeight:35*this.props.rows.length+50,enableCellSelect:!0,enableRowSelect:void 0,onGridSort:this.sortHandler.bind(this),getCellActions:this.getCellActions.bind(this)})}}]),a}(r.a.Component),ue=a(53),le=a(50),de=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(ue.a,{placement:"top",overlay:function(t){return r.a.createElement(le.a,t,"".concat(e.props.name,":").concat(e.props.value))}},r.a.createElement("span",null,this.props.value))}}]),a}(r.a.Component),pe="";function he(){return pe}function fe(e){te.setState({alertText:e})}function me(e,t){return void 0===t?[]:t.parts}function ve(e){if(void 0!==te){var t,a=Object(v.a)(be.keys());try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n!==e){var r=be.get(n);if(void 0===r)return void g("Error : unrecognised view ".concat(e));r.display=!1}}}catch(i){a.e(i)}finally{a.f()}var o=be.get(e);if(void 0===o)return g("Error : unrecognised view ".concat(e)),!1;o.display=!0,te.refreshData(!1)}}var be=new Map([[F,{display:!0}]]);function ge(e){return 0===e.length||"("===e[0]?NaN:parseFloat(e)}function ye(e,t){!function(e,t,a){if(void 0===t.name){if(a){if(void 0!==t.calories)return void alert("can't update calories - use copy and delete instead");if(void 0!==t.protein)return void alert("can't update protein - use copy and delete instead");if(void 0!==t.veg)return void alert("can't update veg - use copy and delete instead");if(void 0!==t.carbs)return void alert("can't update carbs - use copy and delete instead");if(void 0!==t.fats)return void alert("can't update fats - use copy and delete instead");var n=a.parts.find((function(t){return t.foodName===e.name}));return console.log("matched part is ".concat(n)),n&&void 0!==t.units&&(n.amount.unit.name=t.units),n&&void 0!==t.quantity&&(n.amount.quantity=t.quantity),void K(he(),a,Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.refreshData(!0);case 2:case"end":return e.stop()}}),e)}))))}var r={foodName:e.name,amount:{unit:{name:e.units},quantity:e.quantity},details:{calories:ge(e.calories),proteinWeight:ge(e.protein),carbsWeight:ge(e.carbs),vegWeight:ge(e.veg),fatsWeight:ge(e.fats)},parts:[]};void 0!==t.units&&(r.amount.unit.name=t.units),void 0!==t.quantity&&(r.amount.quantity=t.quantity),r.details&&void 0!==t.calories&&(r.details.calories=parseFloat(t.calories)),r.details&&void 0!==t.protein&&(r.details.proteinWeight=parseFloat(t.protein)),r.details&&void 0!==t.carbs&&(r.details.carbsWeight=parseFloat(t.carbs)),r.details&&void 0!==t.veg&&(r.details.vegWeight=parseFloat(t.veg)),r.details&&void 0!==t.fats&&(r.details.fatsWeight=parseFloat(t.fats)),K(he(),r,Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.refreshData(!0);case 2:case"end":return e.stop()}}),e)}))))}else t.name!==e.name&&alert("can't update name - use copy and delete instead")}(t[0].fromRowData,t[0].updated,e)}var we=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).defaultColumn={editable:!0,resizable:!0,sortable:!0},te=Object(l.a)(n),n.state={allFoods:[],displayFoods:[],displayFoods2:[],focusFood:void 0,focusFood2:void 0,alertText:""},n.refreshData(!0),n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){ve(F)}},{key:"refreshData",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g("refreshData"),a=te.state.allFoods,!t){e.next=6;break}return e.next=5,S(he());case 5:a=e.sent;case 6:n=me(0,this.state.focusFood),r=me(0,this.state.focusFood2),te.setState({allFoods:a,displayFoods:n,displayFoods2:r},(function(){0}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"navbarDiv",value:function(){var e=this;return E((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(N.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(V.a,{className:"mr-auto"},r.a.createElement(_.a,{inline:!0,onSubmit:function(e){return e.preventDefault(),!1}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},e.statusButtonList())))),r.a.createElement(V.a,null,r.a.createElement(_.a,{inline:!0,onSubmit:function(e){return e.preventDefault(),!1}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"d-flex flex-row-reverse"},e.rhsTopButtonList()),r.a.createElement("div",{className:"d-flex flex-row-reverse"}))))))}))}},{key:"lessThan",value:function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:e<t?-1:e>t?1:0}},{key:"makeTableNumberForPart",value:function(e,t){var a=this.state.allFoods.find((function(t){return t.foodName===e.foodName}));return a?this.makeTableNumber(a,t).val*e.amount.quantity/a.amount.quantity:NaN}},{key:"makeTableNumber",value:function(e,t){var a=this,n=t(e);if(isNaN(n)||null===n){var r=0;return e.parts.forEach((function(e){a.state.allFoods.find((function(t){return t.foodName===e.foodName}))?r+=a.makeTableNumberForPart(e,t):r=NaN})),{val:r,isDirect:!1}}return{val:n,isDirect:!0}}},{key:"makeTableStringForPart",value:function(e,t){var a=this.makeTableNumberForPart(e,t);return isNaN(a)?"":"(".concat(a,")")}},{key:"makeTableString",value:function(e,t){var a=this.makeTableNumber(e,t);return a.isDirect?"".concat(a.val):"(".concat(a.val,")")}},{key:"foodsTable",value:function(e,t,a,n,o,i,c,u){var l=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,e),r.a.createElement(ce,{deleteFunction:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleting food ".concat(t)),e.next=3,Q(he(),t,Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.refreshData(!0);case 2:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),viewFunction:n,copyFunction:o,showDel:i,showCopy:c,handleGridRowsUpdated:function(){return console.log("updating..."),ye(t,arguments)},rows:a.map((function(e){if(e.details&&void 0!==e.details.calories){if(t){var a=!1,n=l.state.allFoods.find((function(t){return t.foodName===e.foodName}));return n&&(a=n.parts.length>0),{name:e.foodName,units:e.amount.unit.name,quantity:l.makeTableString(e,(function(e){return e.amount.quantity})),calories:l.makeTableStringForPart(e,(function(e){return e.details?e.details.calories:NaN})),protein:l.makeTableStringForPart(e,(function(e){return e.details?e.details.proteinWeight:NaN})),veg:l.makeTableStringForPart(e,(function(e){return e.details?e.details.vegWeight:NaN})),carbs:l.makeTableStringForPart(e,(function(e){return e.details?e.details.carbsWeight:NaN})),fats:l.makeTableStringForPart(e,(function(e){return e.details?e.details.fatsWeight:NaN})),HAS_PARTS:a}}return{name:e.foodName,units:e.amount.unit.name,quantity:l.makeTableString(e,(function(e){return e.amount.quantity})),calories:l.makeTableString(e,(function(e){return e.details?e.details.calories:NaN})),protein:l.makeTableString(e,(function(e){return e.details?e.details.proteinWeight:NaN})),veg:l.makeTableString(e,(function(e){return e.details?e.details.vegWeight:NaN})),carbs:l.makeTableString(e,(function(e){return e.details?e.details.carbsWeight:NaN})),fats:l.makeTableString(e,(function(e){return e.details?e.details.fatsWeight:NaN})),HAS_PARTS:e.parts.length>0}}return{name:e.foodName,calories:"undefined"}})).sort((function(e,t){return l.lessThan(e.name,t.name)})),columns:[Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"DEL",name:"",editable:!1,width:30}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"VIEW",name:"",editable:!1,width:30}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"COPY",name:"",editable:!1,width:30}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"name",name:"name",formatter:r.a.createElement(de,{name:"name",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"units",name:"units",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"quantity",name:"quantity",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"calories",name:"calories",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"protein",name:"protein",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"veg",name:"veg",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"carbs",name:"carbs",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u}),Object(s.a)(Object(s.a)({},this.defaultColumn),{},{key:"fats",name:"fats",formatter:r.a.createElement(de,{name:"value",value:"unset"}),editable:u})]}))}},{key:"homeDiv",value:function(){var e=this;return r.a.createElement(J.a,null,r.a.createElement(z.a,null,r.a.createElement(z.a.Header,null,r.a.createElement(J.a.Toggle,{as:z.a.Header,eventKey:"ShowTables"},"Data tables")),r.a.createElement(J.a.Collapse,{eventKey:"ShowTables"},r.a.createElement(M.a,null,"here are the foods I found for you:",this.foodsTable("All foods",void 0,this.state.allFoods,function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=te.state.allFoods.find((function(e){return e.foodName===t})))&&te.setState({focusFood:a},Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.refreshData(!1);case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(m.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=te.state.allFoods.find((function(e){return e.foodName===t})))){e.next=11;break}if(null!==(n=prompt("Enter new name for this Food"))){e.next=5;break}return e.abrupt("return");case 5:return r={foodName:n,amount:a.amount,details:a.details,parts:a.parts},e.next=8,I(he(),r,te.state.allFoods,Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.refreshData(!0);case 2:case"end":return e.stop()}}),e)}))));case 8:if(e.sent){e.next=10;break}alert("problem adding food - duplicate name?");case 10:case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!0,!0,!0),",",this.foodsTable(this.state.focusFood?"Parts of ".concat(this.state.focusFood.foodName):"Click eye in table above to view details",this.state.focusFood,this.state.displayFoods,function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=te.state.allFoods.find((function(e){return e.foodName===t})))&&te.setState({focusFood2:a},Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.refreshData(!1);case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("no copy for a part");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1,!1,!0),this.foodsTable(this.state.focusFood2?"Parts of ".concat(this.state.focusFood2.foodName):"Click eye in table above to view details",this.state.focusFood,this.state.displayFoods2,function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("no view from this level");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("no copy for a part");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1,!1,!0)))),r.a.createElement(z.a,null,r.a.createElement(z.a.Header,null,r.a.createElement(J.a.Toggle,{as:z.a.Header,eventKey:"AddFoods"},"Add foods (text input)")),r.a.createElement(J.a.Collapse,{eventKey:"AddFoods"},r.a.createElement(M.a,null,r.a.createElement(ae,{allFoods:this.state.allFoods,submitFunction:function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(he(),a,e.state.allFoods,Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData(!0);case 2:case"end":return t.stop()}}),t)}))));case 2:if(t.sent){t.next=4;break}alert("problem adding food : duplicate name?");case 4:return t.abrupt("return");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),showAlert:fe})))),r.a.createElement(z.a,null,r.a.createElement(z.a.Header,null,r.a.createElement(J.a.Toggle,{as:z.a.Header,eventKey:"AddFoodsButton"},"Add composite foods (button input)")),r.a.createElement(J.a.Collapse,{eventKey:"AddFoodsButton"},r.a.createElement(M.a,null,r.a.createElement(ne,{allFoods:this.state.allFoods,submitFunction:function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("adding new food ".concat(a)),t.next=3,I(he(),a,e.state.allFoods,Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData(!0);case 2:case"end":return t.stop()}}),t)}))));case 3:if(t.sent){t.next=5;break}alert("problem adding food : duplicate name?");case 5:return t.abrupt("return");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),showAlert:fe})))),r.a.createElement(z.a,null,r.a.createElement(z.a.Header,null,r.a.createElement(J.a.Toggle,{as:z.a.Header,eventKey:"DeleteFoods"},"Delete foods (text input)")),r.a.createElement(J.a.Collapse,{eventKey:"DeleteFoods"},r.a.createElement(M.a,null,r.a.createElement(re,{submitFunction:function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("deleting food ".concat(a)),t.next=3,Q(he(),a,Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData(!0);case 2:case"end":return t.stop()}}),t)}))));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),showAlert:fe})))),r.a.createElement(z.a,null,r.a.createElement(z.a.Header,null,r.a.createElement(J.a.Toggle,{as:z.a.Header,eventKey:"DeleteFoodsButton"},"Delete foods (button input)")),r.a.createElement(J.a.Collapse,{eventKey:"DeleteFoodsButton"},r.a.createElement(M.a,null,r.a.createElement(oe,{allFoods:this.state.allFoods,submitFunction:function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("deleting food ".concat(a)),t.next=3,Q(he(),a,Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.refreshData(!0);case 2:case"end":return t.stop()}}),t)}))));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),showAlert:fe})))))}},{key:"rhsTopButtonList",value:function(){var e=this,t=[];return t.push(r.a.createElement(Y.a,{onClick:function(t){t.persist(),e.props.logOutAction()},title:"Log out",className:"btn btn-outline-primary mr-1 mb-1",key:"Log out",id:"btn-LogOut"},"Log out")),t}},{key:"render",value:function(){try{return r.a.createElement(r.a.Fragment,null,this.navbarDiv(),r.a.createElement(r.a.Fragment,null,this.homeDiv()))}catch(e){return this.internalErrorDiv()}}},{key:"internalErrorDiv",value:function(){return r.a.createElement(r.a.Fragment,null,this.navbarDiv(),r.a.createElement("h1",null,"Oops! something has gone wrong with FinNeo. Sad FinNeo apologises."))}},{key:"statusButtonList",value:function(){var e=[];return e=e.concat(this.makeHelpText(this.state.alertText))}},{key:"makeHelpText",value:function(e){var t=this,a=[],n=e;return""===n?(n="foods",a.push(r.a.createElement("h4",{className:"text",id:"pageTitle",key:"pageTitle"},n))):a.push(r.a.createElement("h4",{className:"text-warning",id:"pageTitle",key:"pageTitle"},n)),""!==e&&a.push(r.a.createElement(Y.a,{key:"alert",onClick:function(e){e.persist(),t.setState({alertText:""})},id:"btn-clear-alert",className:"btn btn-outline-secondary mr-1 mb-1"},"Clear Alert")),a}}]),a}(n.Component),ke=function(){var e=Object(n.useContext)($),t=e.isLoading,a=e.user,o=e.loginWithRedirect,i=e.loginForTesting,s=e.logout;return t||a?!t&&a?(pe=a.sub,r.a.createElement(we,{logOutAction:function(){return"TestUserID"===pe&&g("logout ".concat(pe)),s({returnTo:window.location.origin+"/FinNeoClient/FinNeoClient"})},user:a})):(pe="",null):(pe="",function(e,t){return r.a.createElement(r.a.Fragment,null,E((function(){return r.a.createElement("h3",null,"An app for fitnesss, nutrition and a new you")})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm mb-4"},r.a.createElement("div",{className:"alert alert-block"},r.a.createElement("h2",null,"Get started")," To begin using this app, log in or use a shared playpen",r.a.createElement("br",null),r.a.createElement(y,{type:"secondary",id:"buttonLogin",action:e,title:"Login or create an account"}),r.a.createElement(y,{type:"secondary",id:"buttonTestLogin",action:t,title:"Shared playpen (no login)"})))))}(o,i))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.197c5a71.chunk.js.map